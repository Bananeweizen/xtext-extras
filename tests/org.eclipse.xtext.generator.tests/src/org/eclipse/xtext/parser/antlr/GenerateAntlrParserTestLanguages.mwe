<workflow>
	<property name="standardFragments" value="org/eclipse/xtext/TestLanguagesFragments.mwe"/>
	<property name="projectName" value="org.eclipse.xtext.generator.tests"/>
	<property name="runtimeProject" value="../${projectName}"/>
	
	<bean class="org.eclipse.emf.mwe.utils.StandaloneSetup" platformUri="${runtimeProject}/.."/>
	
	<component class="org.eclipse.emf.mwe.utils.DirectoryCleaner" directory="${runtimeProject}/src-gen/org/eclipse/xtext/parser/antlr"/>
	
	<component class="org.eclipse.xtext.generator.Generator">
		<pathRtProject value="${runtimeProject}"/>
		<projectNameRt value="${projectName}"/>
		
		<language uri="classpath:/org/eclipse/xtext/parser/antlr/Bug289515TestLanguage.xtext">
			<fragment file="${standardFragments}"/>
		</language>
		<language uri="classpath:/org/eclipse/xtext/parser/antlr/Bug289524TestLanguage.xtext">
			<fragment class="org.eclipse.xtext.generator.CompositeGeneratorFragment">
				<property name="file.extensions" value=""/>
				<property name="genModels" value=""/>
				<property name="basePackage" value=""/>
				<property name="javaModelDirectory" value=""/>
				<property name="xmiModelDirectory" value=""/>
				<fragment class="org.eclipse.xtext.generator.grammarAccess.GrammarAccessFragment"/>
				<fragment class="org.eclipse.xtext.generator.ecore.EcoreGeneratorFragment" genModels="${genModels}" basePackage="${basePackage}" javaModelDirectory="${javaModelDirectory}" xmiModelDirectory="${xmiModelDirectory}"/>
				<fragment class="org.eclipse.xtext.generator.parser.PackratParserFragment"/>
				<fragment class="org.eclipse.xtext.generator.parseTreeConstructor.ParseTreeConstructorFragment"/>
				<fragment class="de.itemis.xtext.antlr.XtextAntlrGeneratorFragment">
					<options backtrack="true"/>
				</fragment>
				<fragment class="org.eclipse.xtext.generator.resourceFactory.ResourceFactoryFragment" 
					fileExtensions="${file.extensions}"/>
			</fragment>
		</language>
		<language uri="classpath:/org/eclipse/xtext/parser/antlr/Bug289524ExTestLanguage.xtext">
			<fragment class="org.eclipse.xtext.generator.CompositeGeneratorFragment">
				<property name="file.extensions" value=""/>
				<property name="genModels" value=""/>
				<property name="basePackage" value=""/>
				<property name="javaModelDirectory" value=""/>
				<property name="xmiModelDirectory" value=""/>
				<fragment class="org.eclipse.xtext.generator.grammarAccess.GrammarAccessFragment"/>
				<fragment class="org.eclipse.xtext.generator.ecore.EcoreGeneratorFragment" genModels="${genModels}" basePackage="${basePackage}" javaModelDirectory="${javaModelDirectory}" xmiModelDirectory="${xmiModelDirectory}"/>
				<fragment class="org.eclipse.xtext.generator.parser.PackratParserFragment"/>
				<fragment class="org.eclipse.xtext.generator.parseTreeConstructor.ParseTreeConstructorFragment"/>
				<fragment class="de.itemis.xtext.antlr.ex.rt.AntlrGeneratorFragment">
					<options backtrack="true"/>
				</fragment>
				<fragment class="org.eclipse.xtext.generator.resourceFactory.ResourceFactoryFragment" 
					fileExtensions="${file.extensions}"/>
			</fragment>
		</language>
	</component>
</workflow>